---
name: R
on:
  workflow_call:
    inputs:
      do-r-cmd-check:
        description: 'Flag to run `R CMD CHECK`'
        required: false
        default: true
        type: boolean
      do-lint:
        description: 'Flag to run `lintr`'
        required: false
        default: true
        type: boolean
      do-codecov:
        description: 'Flag to check codecoverage and upload to codecov.io'
        required: false
        default: true
        type: boolean


jobs:

  lintr:
    if: ${{ inputs.do-lint }}
    uses: ./.github/workflows/R-lintr.yml

  codecov:
    if: ${{ inputs.do-codecov }}
    uses: ./.github/workflows/R-codecov.yml

  r-cmd-check:
    if: ${{ inputs.do-r-cmd-check }}
    uses: ./.github/workflows/R-CMD-check.yml
